<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="For tracking taoyuan land registration cases">
<meta name="author" content="LIU, PANG-YU">
<title>登記案件繼承審查檢核表(BETA)</title>

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="assets/css/bootstrap.min.css">

<!-- Custom styles for this template -->
<link href="assets/css/starter-template.css" rel="stylesheet">
<link href="assets/css/bootstrap-datepicker.standalone.min.css" rel="stylesheet">
<style type="text/css">
.hamburger {
	font-size: 24px;
	font-weight: bold;
}

.tooltip > .tooltip-inner {
  border: 1px solid white;
  padding: 5px;
  font-size: 16px;
}
.optgrp, #relative_law_result, .left {
  text-align: left;
}

fieldset {
	border:0;
	padding:10px;
	margin-bottom:
	10px;background:#EEE;

	border-radius: 8px;
	-moz-border-radius: 8px;
	-webkit-border-radius: 8px;

	background:-webkit-liner-gradient(top,#EEEEEE,#FFFFFF);
	background:linear-gradient(top,#EFEFEF,#FFFFFF);

	box-shadow:3px 3px 10px #666;
	-moz-box-shadow:3px 3px 10px #666;
	-webkit-box-shadow:3px 3px 10px #666;

	position:relative;
	}

legend {
	padding:5px 10px;
	background-color:#4F709F;
	color:#FFF;

	border-radius:3px;
	-moz-border-radius:3px;
	-webkit-border-radius:3px;

	box-shadow:2px 2px 4px #666;
	-moz-box-shadow:2px 2px 4px #666;
	-webkit-box-shadow:2px 2px 4px #666;
  /*
	position:absolute;
	left:10px;top:-11px;
  */
}

.layer1 {
  margin-bottom: 15px;
}
.layer2 {
  text-align: left;
  margin: 0 15px 15px 15px;
}
.layer3 {
  margin: 0 15px 15px 15px;
}
.layer4 {
  margin: 0 15px 15px 15px;
}
.layer5 {
  margin: 0 15px 15px 15px;
}
.layer6 {
  margin: 0 15px 15px 15px;
}
.buttons {
  margin-top: 15px;
}
#inheritance_form {
  
}
.hide {
  display: none;
}
</style>
</head>

<body>

  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <!--<img src="assets/img/tao.png" style="vertical-align: middle;" />　-->
    <a class="navbar-brand" href="http://www.luzhu-land.tycg.gov.tw/" target="_blank">桃園市蘆竹地政事務所</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <!--
        <li class="nav-item active">
          <a class="nav-link" href="/">登記案件追蹤 <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="http://www.taoyuan-land.tycg.gov.tw" target="_blank">地所首頁</a>
        </li>
        -->
        <li class="nav-item dropdown active">
          <a class="nav-link dropdown-toggle hamburger" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">≡</a>
          <div class="dropdown-menu" aria-labelledby="dropdown01">
			<a class="dropdown-item" href="http://www.luzhu-land.tycg.gov.tw/" target="_blank">地所首頁</a>
            <a class="dropdown-item" href="index.html" target="_self">繼承檢核表產出程式(BETA) <span class="sr-only">(current)</span></a>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <section>
    <div class="container-fluid">
      <div class="row">
        <div class="col"></div>
        <div class="col-8 text-center">
          <form id="inheritance_form" name="inheritance_form" action="">

            <fieldset class="layer1 fix" id="layer1_input_case">
              <legend><span class="text-danger">*</span>收件資訊</legend>
              <label for="serial">收件年期字號：</label>
              <input type="text" id="serial" name="serial" value="" />
              <label for="heir">被繼承人姓名：</label>
              <input type="text" id="heir" name="heir" value="" />
            </fieldset>

            <fieldset class="layer1 fix" id="layer1_select_type">
              <legend><span class="text-danger">*</span>繼承登記類型</legend>
              <div class="">
                <label for="type_0_law_heir"><input type="radio" id="type_0_law_heir" name="heir_reg_type" value="type_0_law_heir" /> 法定繼承</label>
                <label for="type_1_split_heir"><input type="radio" id="type_1_split_heir" name="heir_reg_type" value="type_1_split_heir" /> 分割繼承</label>
                <label for="type_2_share_heir"><input type="radio" id="type_2_share_heir" name="heir_reg_type" value="type_2_share_heir" /> 共同共有繼承</label>
                <label for="type_3_modify"><input type="radio" id="type_3_modify" name="heir_reg_type" value="type_3_modify" /> 名義更正</label>
                <label for="type_4_will_heir"><input type="radio" id="type_4_will_heir" name="heir_reg_type" value="type_4_will_heir" /> 遺囑繼承</label>
                <label for="type_5_judge_heir"><input type="radio" id="type_5_judge_heir" name="heir_reg_type" value="type_5_judge_heir" /> 判決繼承</label>
                <label for="type_6_nobody_heir"><input type="radio" id="type_6_nobody_heir" name="heir_reg_type" value="type_6_nobody_heir" /> 無人承認繼承</label>
              </div>
            </fieldset>

            <fieldset class="layer1 fix" id="layer1_target_check_items">
              <legend>被繼承人審查項目</legend>
              <fieldset class="layer2 fix">
                <legend>死亡日期</legend>
                <label for="jp"><input type="radio" id="jp" name="death_period" value="jp" /> 日據時期(民國34年10月24日前死亡)</label> <br/>
                  <fieldset class="layer3" id="death_period_jp_layer3">
                    <legend>被繼承人身分</legend>
                    <label for="house_owner_yes"><input type="radio" id="house_owner_yes" name="house_owner" value="yes" /> 戶主</label> <br/>
                      <fieldset class="layer4" id="house_owner_yes_layer4">
                        <legend>繼承人順位(戶主)</legend>
                        <label for="house_owner_yes_heir_seq_1"><input type="radio" id="house_owner_yes_heir_seq_1" name="house_owner_yes_heir_seq" value="1" /> 1.法定戶主繼承人-同一戶內男子直系卑親屬(親等近者為先)</label> <br/>
                          <fieldset class="layer5" id="house_owner_yes_heir_seq_one_layer5">
                            <legend></legend>
                            <label for="house_owner_yes_heir_seq_1_children_1"><input type="checkbox" id="house_owner_yes_heir_seq_1_children_1" name="house_owner_yes_heir_seq_1_children_1" value="1" /> 婚、私生子</label> <br/>
                            <label for="house_owner_yes_heir_seq_1_children_2"><input type="checkbox" id="house_owner_yes_heir_seq_1_children_2" name="house_owner_yes_heir_seq_1_children_2" value="2" /> 養子</label> <br/>
                            <label for="house_owner_yes_heir_seq_1_children_3"><input type="checkbox" id="house_owner_yes_heir_seq_1_children_3" name="house_owner_yes_heir_seq_1_children_3" value="3" /> 過房子</label> <br/>
                            <label for="house_owner_yes_heir_seq_1_children_4"><input type="checkbox" id="house_owner_yes_heir_seq_1_children_4" name="house_owner_yes_heir_seq_1_children_4" value="4" /> 螟蛉子</label> <br/>
                            <fieldset class="layer6" id="house_owner_yes_heir_seq_1_children_fourth_layer6">
                              <legend>代位或再轉</legend>
                              <label for="house_owner_yes_heir_seq_method_subrogation"><input type="checkbox" id="house_owner_yes_heir_seq_method_subrogation" name="house_owner_yes_heir_seq_method_subrogation" value="subrogation" /> 代位</label> <br/>
                              <label for="house_owner_yes_heir_seq_method_transfer"><input type="checkbox" id="house_owner_yes_heir_seq_method_transfer" name="house_owner_yes_heir_seq_method_transfer" value="transfer" /> 再轉</label> <br/>
                            </fieldset>
                          </fieldset>
                        <label for="house_owner_yes_heir_seq_2"><input type="radio" id="house_owner_yes_heir_seq_2" name="house_owner_yes_heir_seq" value="2" /> 2.指定戶主繼承人-依當時戶籍登記為準</label> <br/>
                        <label for="house_owner_yes_heir_seq_3"><input type="radio" id="house_owner_yes_heir_seq_3" name="house_owner_yes_heir_seq" value="3" /> 3.選定戶主繼承人-依當時戶籍登記為準</label> <br/>
                      </fieldset>
                      <label for="house_owner_no"><input type="radio" id="house_owner_no" name="house_owner" value="no" /> 非戶主</label> <br/>
                      <fieldset class="layer4" id="house_owner_no_layer4">
                        <legend>繼承人順位(非戶主)</legend>
                        <label for="house_owner_no_heir_seq_1"><input type="radio" id="house_owner_no_heir_seq_1" name="house_owner_no_heir_seq" value="1" /> 1.直系卑親屬(親等近者為先)</label> <br/>
                          <fieldset class="layer5" id="house_owner_no_heir_seq_one_layer5">
                            <legend></legend>
                            <label for="house_owner_no_heir_seq_1_children_1"><input type="checkbox" id="house_owner_no_heir_seq_1_children_1" name="house_owner_no_heir_seq_1_children_1" value="1" /> 婚、私生子</label> <br/>
                            <label for="house_owner_no_heir_seq_1_children_2"><input type="checkbox" id="house_owner_no_heir_seq_1_children_2" name="house_owner_no_heir_seq_1_children_2" value="2" /> 養子</label> <br/>
                            <label for="house_owner_no_heir_seq_1_children_3"><input type="checkbox" id="house_owner_no_heir_seq_1_children_3" name="house_owner_no_heir_seq_1_children_3" value="3" /> 過房子</label> <br/>
                            <label for="house_owner_no_heir_seq_1_children_4"><input type="checkbox" id="house_owner_no_heir_seq_1_children_4" name="house_owner_no_heir_seq_1_children_4" value="4" /> 螟蛉子</label> <br/>
                            <fieldset class="layer6" id="house_owner_no_heir_seq_1_children_fourth_layer6">
                              <legend>代位或再轉</legend>
                              <label for="house_owner_no_heir_seq_method_subrogation"><input type="checkbox" id="house_owner_no_heir_seq_method_subrogation" name="house_owner_no_heir_seq_method_subrogation" value="subrogation" /> 代位</label> <br/>
                              <label for="house_owner_no_heir_seq_method_transfer"><input type="checkbox" id="house_owner_no_heir_seq_method_transfer" name="house_owner_no_heir_seq_method_transfer" value="transfer" /> 再轉</label> <br/>
                            </fieldset>
                          </fieldset>
                        <label for="house_owner_no_heir_seq_2"><input type="radio" id="house_owner_no_heir_seq_2" name="house_owner_no_heir_seq" value="2" /> 2.配偶</label> <br/>
                        <label for="house_owner_no_heir_seq_3"><input type="radio" id="house_owner_no_heir_seq_3" name="house_owner_no_heir_seq" value="3" /> 3.直系尊親屬(親等近者為先)</label> <br/>
                        <label for="house_owner_no_heir_seq_4"><input type="radio" id="house_owner_no_heir_seq_4" name="house_owner_no_heir_seq" value="4" /> 4.戶主</label> <br/>
                      </fieldset>
                  </fieldset>
                <label for="tw"><input type="radio" id="tw" name="death_period" value="tw" /> 光復後(民國34年10月25日後死亡)</label> <br/>
                  <fieldset class="layer3" id="death_period_tw_layer3">
                    <legend>確切時間</legend>
                    <label for="tw34_74"><input type="radio" id="tw34_74" name="tw_death_period" value="tw34_74" /> 民法修正前(民國34年10月25日~74年6月4日前)</label> <br/>
                    <label for="after_tw74"><input type="radio" id="after_tw74" name="tw_death_period" value="after_tw74" /> 民法修正後(民國74年6月5日後)</label> <br/>
                    <fieldset class="layer4" id="tw_death_period_layer4">
                      <legend>繼承人順位</legend>
                      <label for="tw_death_period_heir_spouse"><input type="checkbox" id="tw_death_period_heir_spouse" name="tw_death_period_heir_spouse" value="yes" /> 配偶</label> <br/>
                      <fieldset class="layer5" id="tw_death_period_heir_spouse_yes_layer5">
                        <legend></legend>
                        <label for="tw_death_period_heir_spouse_live_yes"><input type="radio" id="tw_death_period_heir_spouse_live_yes" name="tw_death_period_heir_spouse_live" value="yes" /> 生存</label> <br/>
                        <label for="tw_death_period_heir_spouse_live_no"><input type="radio" id="tw_death_period_heir_spouse_live_no" name="tw_death_period_heir_spouse_live" value="no" /> 亡歿</label> <br/>
                      </fieldset>
                      <label for="tw_death_period_heir_seq_1"><input type="radio" id="tw_death_period_heir_seq_1" name="tw_death_period_heir_seq" value="1" /> 1. 直系血親卑親屬(親等近者為先)</label> <br/>
                      <fieldset class="layer5" id="tw_death_period_heir_seq_one_layer5">
                        <legend></legend>
                        <label for="tw_death_period_heir_seq_1_option1"><input type="checkbox" id="tw_death_period_heir_seq_1_option1" name="tw_death_period_heir_seq_1_option1" value="1" /> 1. 婚生子女</label> <br/>
                        <label for="tw_death_period_heir_seq_1_option2"><input type="checkbox" id="tw_death_period_heir_seq_1_option2" name="tw_death_period_heir_seq_1_option2" value="2" /> 2. 認領</label> <br/>
                        <label for="tw_death_period_heir_seq_1_option3"><input type="checkbox" id="tw_death_period_heir_seq_1_option3" name="tw_death_period_heir_seq_1_option3" value="3" /> 3. 養子女</label> <br/>
                        <fieldset class="layer6" id="tw_death_period_heir_seq_1_option_third_layer6">
                          <legend></legend>
                          <label for="tw_death_period_heir_seq_1_option_method_1"><input type="checkbox" id="tw_death_period_heir_seq_1_option_method_1" name="tw_death_period_heir_seq_1_option_method_1" value="1" /> 代位</label> <br/>
                          <label for="tw_death_period_heir_seq_1_option_method_2"><input type="checkbox" id="tw_death_period_heir_seq_1_option_method_2" name="tw_death_period_heir_seq_1_option_method_2" value="2" /> 再轉</label> <br/>
                        </fieldset>
                      </fieldset>
                      <label for="tw_death_period_heir_seq_2"><input type="radio" id="tw_death_period_heir_seq_2" name="tw_death_period_heir_seq" value="2" /> 2. 父母</label> <br/>
                      <label for="tw_death_period_heir_seq_3"><input type="radio" id="tw_death_period_heir_seq_3" name="tw_death_period_heir_seq" value="3" /> 3. 兄弟姊妹</label> <br/>
                      <fieldset class="layer5" id="tw_death_period_heir_seq_third_layer5">
                        <legend></legend>
                        <label for="tw_death_period_heir_seq_3_method"><input type="checkbox" id="tw_death_period_heir_seq_3_method" name="tw_death_period_heir_seq_3_method" value="transfer" /> 再轉</label> <br/>
                      </fieldset>
                      <label for="tw_death_period_heir_seq_4"><input type="radio" id="tw_death_period_heir_seq_4" name="tw_death_period_heir_seq" value="4" /> 4. 祖父母</label> <br/>
                    </fieldset>
                  </fieldset>
              </fieldset>
            </fieldset>

            <fieldset class="layer1 fix" id="layer1_heir_check_items">
              <legend>繼承人審查項目</legend>
              <div class="left">
                <label for="heir_method_abandon"><input type="radio" id="heir_method_abandon" name="heir_method" value="abandon" /> 繼承權拋棄</label> <br/>
                <fieldset class="layer2" id="heir_method_abandon_layer2">
                  <legend></legend>
                  <label for="heir_method_abandon_yes"><input type="radio" id="heir_method_abandon_yes" name="heir_method_abandon" value="yes" /> 有</label> <br/>
                  <label for="heir_method_abandon_no"><input type="radio" id="heir_method_abandon_no" name="heir_method_abandon" value="no" /> 無</label> <br/>
                </fieldset>
                <label for="heir_method_lost"><input type="radio" id="heir_method_lost" name="heir_method" value="lost" /> 繼承權喪失</label> <br/>
                <fieldset class="layer2" id="heir_method_lost_layer2">
                  <legend></legend>
                  <label for="heir_method_lost_yes"><input type="radio" id="heir_method_lost_yes" name="heir_method_lost" value="yes" /> 有</label> <br/>
                  <label for="heir_method_lost_no"><input type="radio" id="heir_method_lost_no" name="heir_method_lost" value="no" /> 無</label> <br/>
                </fieldset>
                <label for="heir_method_domestic"><input type="radio" id="heir_method_domestic" name="heir_method" value="domestic" /> 本國人繼承</label> <br/>
                <fieldset class="layer2" id="heir_method_domestic_layer2">
                  <legend></legend>
                  <label for="heir_method_domestic_opt1"><input type="radio" id="heir_method_domestic_opt1" name="heir_method_domestic_opt" value="1" /> 有行為能力(滿20歲或未成年已結婚者)</label> <br/>
                  <label for="heir_method_domestic_opt2"><input type="radio" id="heir_method_domestic_opt2" name="heir_method_domestic_opt" value="2" /> 限制行為能力(7-20歲)</label> <br/>
                  <label for="heir_method_domestic_opt3"><input type="radio" id="heir_method_domestic_opt3" name="heir_method_domestic_opt" value="3" /> 無行為能力(7歲以下)</label> <br/>
                  <label for="heir_method_domestic_opt4"><input type="radio" id="heir_method_domestic_opt4" name="heir_method_domestic_opt" value="4" /> 養子女</label> <br/>
                  <label for="heir_method_domestic_opt5"><input type="radio" id="heir_method_domestic_opt5" name="heir_method_domestic_opt" value="5" /> 胎兒</label> <br/>
                  <fieldset class="layer3" id="heir_method_domestic_opt5_layer3">
                    <legend></legend>
                    <label for="heir_method_domestic_opt5_rename"><input type="radio" id="heir_method_domestic_opt5_rename" name="heir_method_domestic_opt5" value="rename" /> 更名登記</label> <br/>
                    <label for="heir_method_domestic_opt5_correct"><input type="radio" id="heir_method_domestic_opt5_correct" name="heir_method_domestic_opt5" value="correct" /> 更正登記</label> <br/>
                  </fieldset>
                </fieldset>
                <label for="heir_method_foreign"><input type="radio" id="heir_method_foreign" name="heir_method" value="foreign" /> 外國人繼承</label> <br/>
                <fieldset class="layer2" id="heir_method_foreign_layer2">
                  <legend></legend>
                  <label for="heir_method_foreign_opt1"><input type="radio" id="heir_method_foreign_opt1" name="heir_method_foreign_opt" value="1" /> 平等互惠(土地法第18條)</label> <br/>
                  <fieldset class="layer3" id="heir_method_foreign_opt1_layer3">
                    <legend></legend>
                    <label for="heir_method_foreign_opt1_yes"><input type="radio" id="heir_method_foreign_opt1_yes" name="heir_method_foreign_opt1" value="yes" /> 有</label> <br/>
                    <label for="heir_method_foreign_opt1_no"><input type="radio" id="heir_method_foreign_opt1_no" name="heir_method_foreign_opt1" value="no" /> 無</label> <br/>
                  </fieldset>
                  <label for="heir_method_foreign_opt2"><input type="radio" id="heir_method_foreign_opt2" name="heir_method_foreign_opt" value="2" /> 繼承土地法第17條第1項土地</label> <br/>
                  <fieldset class="layer3" id="heir_method_foreign_opt2_layer3">
                    <legend></legend>
                    <label for="heir_method_foreign_opt2_yes"><input type="radio" id="heir_method_foreign_opt2_yes" name="heir_method_foreign_opt2" value="yes" /> 有</label> <br/>
                    <label for="heir_method_foreign_opt2_no"><input type="radio" id="heir_method_foreign_opt2_no" name="heir_method_foreign_opt2" value="no" /> 無</label> <br/>
                  </fieldset>
                  <label for="heir_method_foreign_opt3"><input type="radio" id="heir_method_foreign_opt3" name="heir_method_foreign_opt" value="3" /> 有行為能力(滿20歲或未成年已結婚者)</label> <br/>
                  <label for="heir_method_foreign_opt4"><input type="radio" id="heir_method_foreign_opt4" name="heir_method_foreign_opt" value="4" /> 限制行為能力(7-20歲)</label> <br/>
                  <label for="heir_method_foreign_opt5"><input type="radio" id="heir_method_foreign_opt5" name="heir_method_foreign_opt" value="5" /> 無行為能力(7歲以下)</label> <br/>
                  <label for="heir_method_foreign_opt6"><input type="radio" id="heir_method_foreign_opt6" name="heir_method_foreign_opt" value="6" /> 養子女</label> <br/>
                  <label for="heir_method_foreign_opt7"><input type="radio" id="heir_method_foreign_opt7" name="heir_method_foreign_opt" value="7" /> 胎兒</label> <br/>
                  <fieldset class="layer3" id="heir_method_foreign_opt7_layer3">
                    <legend></legend>
                    <label for="heir_method_foreign_opt7_rename"><input type="radio" id="heir_method_foreign_opt7_rename" name="heir_method_foreign_opt7" value="rename" /> 更名登記</label> <br/>
                    <label for="heir_method_foreign_opt7_correct"><input type="radio" id="heir_method_foreign_opt7_correct" name="heir_method_foreign_opt7" value="correct" /> 更正登記</label> <br/>
                  </fieldset>
                </fieldset>
                <label for="heir_method_china"><input type="radio" id="heir_method_china" name="heir_method" value="china" /> 大陸地區人民繼承</label> <br/>
                <fieldset class="layer2" id="heir_method_china_layer2">
                  <legend></legend>
                  <label for="heir_method_china_opt1"><input type="radio" id="heir_method_china_opt1" name="heir_method_china_opt" value="1" /> 依兩岸人民關係條例-不得繼承不動產</label> <br/>
                  <label for="heir_method_china_opt2"><input type="radio" id="heir_method_china_opt2" name="heir_method_china_opt" value="2" /> 配偶(長期居留許可者)</label> <br/>
                  <label for="heir_method_china_opt3"><input type="radio" id="heir_method_china_opt3" name="heir_method_china_opt" value="3" /> 繼承土地法第17條第1項土地</label> <br/>
                  <label for="heir_method_china_opt4"><input type="radio" id="heir_method_china_opt4" name="heir_method_china_opt" value="4" /> 台灣地區繼承人賴以居住</label> <br/>
                </fieldset>
              </div>
            </fieldset>

            <fieldset class="layer1" id="layer1_result">
              <legend>相關法令與應附文件</legend>
              <p id="relative_law_result">
                相關法令：<a href="assets/files/00_遺贈登記法規(範例).pdf">00_遺贈登記法規(範例).pdf</a>
              </p>
              <div class="container-fluid left">
                <div class="w3-row">
                  <label for="heir_death_remove_cert" class="w3-col"><input type="checkbox" id="heir_death_remove_cert" name="heir_death_remove_cert" value="yes" /> 被繼承人死亡除戶戶籍謄本</label>
                  <label for="heir_now_cert" class="w3-col"><input type="checkbox" id="heir_now_cert" name="heir_now_cert" value="yes" /> 繼承人現在戶籍謄本</label>
                  <label for="heir_sys_table" class="w3-col"><input type="checkbox" id="heir_sys_table" name="heir_sys_table" value="yes" /> 繼承系統表</label>
                  <label for="heir_drop_doc" class="w3-col"><input type="checkbox" id="heir_drop_doc" name="heir_drop_doc" value="yes" /> 拋棄繼承權證明文件</label>
                  <label for="heir_tax_doc" class="w3-col"><input type="checkbox" id="heir_tax_doc" name="heir_tax_doc" value="yes" /> 遺產稅完免納證明文件</label>
                  <label for="heir_affidavit_doc" class="w3-col"><input type="checkbox" id="heir_affidavit_doc" name="heir_affidavit_doc" value="yes" /> 權利書狀或切結書</label>
                </div>
                <div class="w3-row">
                  <label for="heir_split_doc" class="w3-col"><input type="checkbox" id="heir_split_doc" name="heir_split_doc" value="yes" /> 遺產分割協議書</label>
                  <label for="heir_stamp_doc" class="w3-col"><input type="checkbox" id="heir_stamp_doc" name="heir_stamp_doc" value="yes" /> 繼承人之印鑑證明書</label>
                  <label for="heir_check_id" class="w3-col"><input type="checkbox" id="heir_check_id" name="heir_check_id" value="yes" /> 親自到場核對身分</label>
                  <label for="heir_oversea_doc" class="w3-col"><input type="checkbox" id="heir_oversea_doc" name="heir_oversea_doc" value="yes" /> 海外授權書</label>
                  <label for="heir_court_doc" class="w3-col"><input type="checkbox" id="heir_court_doc" name="heir_court_doc" value="yes" /> 法院判決書及確定證明書</label>
                  <label for="heir_will_doc" class="w3-col"><input type="checkbox" id="heir_will_doc" name="heir_will_doc" value="yes" /> 遺囑</label>
                </div>
                <div class="w3-row">
                  <label for="heir_other_doc" class="w3-rest"><input type="checkbox" id="heir_other_doc" name="heir_other_doc" value="yes" /> 其他 <input id="heir_other_doc_text" name="heir_other_doc_text" type="text" value="" disabled/></label>
                </div>
                <div class="w3-row">
                  <div class="w3-col text-center">
                    <button id='GEN_btn' class='btn btn-sm btn-default' title="GENERATE TABLE">產製審查表格</button>
                  </div>
                </div>
              </div>
            </fieldset>
            <div class="buttons">
              <button id='OK_btn' class='btn btn-sm btn-default' title="相關法令與應附文件">下一步</button>
              <button id='CANCEL_btn' class='btn btn-sm btn-default' title="CANCEL">重置</button>
            </div>
          </form>
        </div>
        <div class="col"></div>
      </div>
    </div>
  </section><!-- /section -->
  <!--<p id="copyright" class="text-center my-2"><strong>&copy; <a href="mailto:pangyu.liu@gmail.com">LIU, PANG-YU</a> ALL RIGHTS RESERVED.</strong></p>-->

  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/jquery-3.2.1.min.js"></script>
  <!-- <script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery.min.js"><\/script>')</script> -->
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="assets/js/ie10-viewport-bug-workaround.js"></script>
  <script type="text/javascript">
    function clearTextFields() {
      // find all input fields and clear their value
      $("input[type='text']").each(function(e) {
        $(this).val("");
      });
    }

    function clearAllRadioBoxes() {
      // find all radio boxes and clear their checked prop
      $("input[type='radio']").each(function(e) {
          $(this).prop("checked", false);
      });
    }

    function clearAllCheckBoxes() {
      // find all radio boxes and clear their checked prop
      $("input[type='checkbox']").each(function(e) {
          $(this).prop("checked", false);
      });
    }

    function clearBoxesByElement(element) {
      $(element).find("input[type='radio']").each(function(e) {
        if (!$(this).hasClass("skip")) {
          $(this).prop("checked", false);
        }
      });
      $(element).find("input[type='checkbox']").each(function(e) {
        if (!$(this).hasClass("skip")) {
          $(this).prop("checked", false);
        }
      });
    }

    function clearAll() {
      clearTextFields();
      clearAllRadioBoxes();
      clearAllCheckBoxes();
      hideAllFieldset();
      $("#NEXT_btn").addClass("hide");
    }

    function hideAllFieldset() {
      // hide all fieldset except .fix
      $("fieldset").each(function(e){
        if (!$(this).hasClass("fix")) {
          deactivateElement(this);
        }
        $(this).removeClass("table-warning");
      });
    }

    function hideFieldsetsByElement(element) {
      $(element).find("fieldset").each(function(e){
        deactivateElement(this);
      });
      // always hide result fieldset
      deactivateElement("#layer1_result");
    }

    function activateElement(element) {
      $(element).removeClass("hide");
      $(".table-warning").each(function(e){
        $(this).removeClass("table-warning");
      });
      $(element).addClass("table-warning");
    }

    function deactivateElement(element) {
      $(element).addClass("hide");
      $(element).removeClass("table-warning");
    }

    function scrollToElement(element) {
      var pos = $(element).offset().top - 100;
      if (pos < 0) return;
      $("html, body").animate({
        scrollTop: pos
      }, 1000);
    }

    function disableAllButtons(flag) {
      $("button").each(function(){
        var ele = $(this);
        ele.prop("disabled", flag);
      });
    }

    //var form_params = $("#inheritance_form").serializeArray();
    $(document).ready(function(e) {

      $("#inheritance_form").on("submit", function(e) {
        e.stopPropagation();
        return false;
      });

      $("#CANCEL_btn").on("click", function() {
        disableAllButtons(true);
        clearAll();
        
        // show main blocks
        $("#layer1_heir_check_items").removeClass("hide");
        $("#layer1_select_type").removeClass("hide");
        $("#layer1_target_check_items").removeClass("hide");
        $("#layer1_input_case").removeClass("hide");
        $("#OK_btn").removeClass("hide");

        disableAllButtons(false);
      });

      $("#OK_btn").on("click", function() {
        // 基本檢查必要輸入
        var serial = $("#serial");
        var heir = $("#heir");
        if (serial.val() == "" || serial.val() == undefined) {
          alert("請輸入收件年期字號。");
          scrollToElement("#layer1_input_case");
          activateElement("#serial");
          return;
        }
        if (heir.val() == "" || heir.val() == undefined) {
          alert("請輸入被繼承人姓名。");
          scrollToElement("#layer1_input_case");
          activateElement("#heir");
          return;
        }
        if ($("input:radio[name=heir_reg_type]").is(":checked") === false) {
          alert("請選擇繼承登記類型！");
          scrollToElement("#layer1_select_type");
          activateElement("#layer1_select_type");
          return;
        }
        // 進階選項檢查 ... TBD


        disableAllButtons(true);

        // hide main blocks
        $("#layer1_heir_check_items").addClass("hide");
        $("#layer1_select_type").addClass("hide");
        $("#layer1_target_check_items").addClass("hide");
        $("#layer1_input_case").addClass("hide");
        $(this).addClass("hide");

        activateElement("#layer1_result");
        scrollToElement("#layer1_result");
        disableAllButtons(false);
      });

      $("#GEN_btn").on("click", function(e) {
        disableAllButtons(true);
        window.open("inheritance_table.html?"+$("#inheritance_form").serialize(), "_blank");
        disableAllButtons(false);
      });

      clearAll();
      
      /*
        被繼承人審查 相關事件設定
      */

      // 點選「繼承登記類型」的事件處理
      $("input[name='heir_reg_type']").on("click", function(e){
        clearAllRadioBoxes();
        clearAllCheckBoxes();
        hideAllFieldset();
        $(this).prop("checked", true);
        //console.log($(this).val() + " checked!");
        // control the visibility of #layer1_target_check_items
        $("#layer1_target_check_items").removeClass("hide");
        $("#layer1_target_check_items > .layer2").removeClass("hide");
      });
      // 點選「死亡日期」的事件處理
      $("input[name='death_period']").on("click", function(e){
        // hide all fieldsets first
        hideFieldsetsByElement($(this).parents("fieldset.layer2"));
        clearBoxesByElement($(this).parents("fieldset.layer2").find("fieldset.layer3"));
        // show up what we want to
        var element = $(this).val() == "jp" ? $("#death_period_jp_layer3") : $("#death_period_tw_layer3");
        activateElement(element);
        // clear all checked box by this element
        clearBoxesByElement(element);
      });
      // 點選日據時期之戶主/非戶主的事件處理
      $("input[name='house_owner']").on("click", function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer3"));
        clearBoxesByElement($(this).parents("fieldset.layer3").find("fieldset.layer4"));
        var element = $(this).val() == "yes" ? $("#house_owner_yes_layer4") : $("#house_owner_no_layer4");
        activateElement(element);
        // clear all checked box by this element
        clearBoxesByElement(element);
      });
      // 點選 日據時期/戶主/選項 事件處理
      $("input[name='house_owner_yes_heir_seq']").on("click",function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer4"));
        clearBoxesByElement($(this).parents("fieldset.layer4").find("fieldset.layer5"));
        activateElement("#house_owner_yes_layer4");
        var element = $("#house_owner_yes_heir_seq_one_layer5");
        $(this).val() == "1" ? activateElement(element) : deactivateElement(element);
      });
      // 點選 日據時期/戶主/第四選項 事件處理
      $("input[name='house_owner_yes_heir_seq_1_children_4']").on("click", function(e) {
        activateElement("#house_owner_yes_heir_seq_one_layer5");
        var element = $("#house_owner_yes_heir_seq_1_children_fourth_layer6");
        $(this).val() == "4" ? activateElement(element) : deactivateElement(element);
      });
      // 點選 日據時期/非戶主/選項 事件處理
      $("input[name='house_owner_no_heir_seq']").on("click",function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer4"));
        clearBoxesByElement($(this).parents("fieldset.layer4").find("fieldset.layer5"));
        activateElement("#house_owner_no_layer4");
        var element = $("#house_owner_no_heir_seq_one_layer5");
        $(this).val() == "1" ? activateElement(element) : deactivateElement(element);
      });
      // 點選 日據時期/非戶主/第四選項 事件處理
      $("input[name='house_owner_no_heir_seq_1_children_4']").on("click", function(e) {
        activateElement("#house_owner_no_heir_seq_one_layer5");
        var element = $("#house_owner_no_heir_seq_1_children_fourth_layer6");
        $(this).val() == "4" ? activateElement(element) : deactivateElement(element);
      });
      // 點選 光復後/民法修正[前|後] 事件處理
      $("input[name='tw_death_period']").on("click", function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer3"));
        clearBoxesByElement($(this).parents("fieldset.layer3").find("fieldset.layer4"));
        activateElement("#tw_death_period_layer4");
      });
      // 點選 光復後/民法修正[前|後]/配偶 事件處理
      $("input[name='tw_death_period_heir_spouse']").on("click", function(e) {
        var element = $("#tw_death_period_heir_spouse_yes_layer5");
        $(this).prop("checked") === true ? activateElement(element) : deactivateElement(element);
      });
      // 點選 光復後/民法修正[前|後]/順位選項 事件處理
      $("input[name='tw_death_period_heir_seq']").on("click", function(e) {
        // store spouse live checked or not
        var spouse_live_yes = $("#tw_death_period_heir_spouse_live_yes").prop("checked");
        var spouse_live_no = $("#tw_death_period_heir_spouse_live_no").prop("checked");
        
        hideFieldsetsByElement($(this).parents("fieldset.layer4"));
        clearBoxesByElement($(this).parents("fieldset.layer4").find("fieldset.layer5"));
        
        var choosed = $(this).val();
        switch (choosed) {
          case "1":
            activateElement("#tw_death_period_heir_seq_one_layer5");
            break;
          case "3":
            activateElement("#tw_death_period_heir_seq_third_layer5");
            break;
          default:
            activateElement("#tw_death_period_layer4");
            break;
        }
        // 控制 配偶 區塊顯示
        var element = $("#tw_death_period_heir_spouse_yes_layer5");
        if ($("#tw_death_period_heir_spouse").prop("checked") === true) {
          activateElement(element);
          if (spouse_live_yes) {
            $("#tw_death_period_heir_spouse_live_yes").prop("checked", true);
          }
          if (spouse_live_no) {
            $("#tw_death_period_heir_spouse_live_no").prop("checked", true);
          }
        } else {
          deactivateElement(element);
        }
      });
      // 點選 光復後/民法修正[前|後]/第一順位選項 事件處理
      function handleClick(e) {
        // store spouse checked or not
        var spouse_live_yes = $("#tw_death_period_heir_spouse_live_yes").prop("checked");
        var spouse_live_no = $("#tw_death_period_heir_spouse_live_no").prop("checked");

        hideFieldsetsByElement($(this).parents("fieldset.layer4"));
        clearBoxesByElement("#tw_death_period_heir_seq_1_option_third_layer6");

        // 顯示本身區塊
        activateElement("#tw_death_period_heir_seq_one_layer5");
        //clearBoxesByElement(element);
        // 其他layer6區塊控制
        var element = $("#tw_death_period_heir_seq_1_option_third_layer6");
        activateElement(element);
        clearBoxesByElement(element);

        // 控制 配偶 區塊顯示
        element = $("#tw_death_period_heir_spouse_yes_layer5");
        if ($("#tw_death_period_heir_spouse").prop("checked") === true) {
          activateElement(element);
          if (spouse_live_yes) {
            $("#tw_death_period_heir_spouse_live_yes").prop("checked", true);
          }
          if (spouse_live_no) {
            $("#tw_death_period_heir_spouse_live_no").prop("checked", true);
          }
        } else {
          deactivateElement(element);
        }
      }
      $("input[name='tw_death_period_heir_seq_1_option1']").on("click", handleClick);
      $("input[name='tw_death_period_heir_seq_1_option2']").on("click", handleClick);
      $("input[name='tw_death_period_heir_seq_1_option3']").on("click", handleClick);
      /*
        繼承人審查 相關事件設定
      */
      $("input[name='heir_method']").on("click", function(e) {
        var layer1_fieldset = $(this).parents("fieldset.layer1");
        // hide all fieldsets first
        hideFieldsetsByElement(layer1_fieldset);
        // clear all checked box under layer1
        clearBoxesByElement(layer1_fieldset.find("fieldset.layer2"));
        var choosed = $(this).val();
        // show up what we want to
        var element = null;
        switch(choosed) {
          case "abandon":
            element = $("#heir_method_abandon_layer2");
            break;
          case "lost":
            element = $("#heir_method_lost_layer2");
            break;
          case "domestic":
            element = $("#heir_method_domestic_layer2");
            break;
          case "foreign":
            element = $("#heir_method_foreign_layer2");
            break;
          case "china":
            element = $("#heir_method_china_layer2");
            break;
          default:
            alert("Not Supported Option! (" + choosed + ")");
            break;
        }
        activateElement(element);
      });
      // 本國人第五選項 事件處理
      $("input[name='heir_method_domestic_opt']").on("click", function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer2"));
        // clear sub layers checked value
        clearBoxesByElement($(this).parents("fieldset.layer2").find("fieldset.layer3"));
        var choosed = $(this).val();
        if (choosed == "5") {
          activateElement("#heir_method_domestic_opt5_layer3");
        } else {
          activateElement("#heir_method_domestic_layer2");
        }
      });
      // 外國人第一選項 事件處理
      $("input[name='heir_method_foreign_opt']").on("click", function(e) {
        hideFieldsetsByElement($(this).parents("fieldset.layer2"));

        // clear sub layers checked value
        clearBoxesByElement($(this).parents("fieldset.layer2").find("fieldset.layer3"));

        var choosed = $(this).val();
        switch (choosed) {
          case "1":
            activateElement("#heir_method_foreign_opt1_layer3");
            break;
          case "2":
            activateElement("#heir_method_foreign_opt2_layer3");
            break;
          case "7":
            activateElement("#heir_method_foreign_opt7_layer3");
            break;
          default:
            activateElement("#heir_method_foreign_layer2");
            break;
        }
      });
      /*
        結果區塊相關事件處理
      */
      $("#heir_other_doc").on("click", function(e) {
        $("#heir_other_doc_text").attr("disabled", !$(this).is(":checked"));
      });
    });
  </script>
</body>
</html>
